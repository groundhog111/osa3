{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/personsService.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","handleSubmitRajaa","handleChangeRajaa","newRajaus","react_default","a","createElement","onSubmit","onChange","value","type","PersonForm","handleChangeName","handleChangeNumber","handleSubmitAdd","newName","newNumber","Person","name","number","handleDelete","id","onClick","Persons","persons","rajaus","filter","objekti","includes","map","person","components_Person","key","baseUrl","personsService","axios","get","post","delete","concat","put","Notification","message","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setRajaus","_useState9","_useState10","setNewRajaus","_useState11","_useState12","errorMessage","setErrorMessage","_useState13","_useState14","successMessage","setSuccessMessage","useEffect","then","response","data","components_Filter","event","target","preventDefault","setTimeout","components_Notification","components_PersonForm","toString","window","confirm","oikeaindeksi","indexOf","console","log","components_Persons","find","status","catch","error","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.cc828665.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({handleSubmitRajaa, handleChangeRajaa, newRajaus}) => {\n   return (\n      <form onSubmit = {handleSubmitRajaa}>\n        <div>\n          rajaa näyttettävistä: <input onChange = {handleChangeRajaa} value = {newRajaus} />\n        </div>\n        <div>\n          <button type=\"submit\">lisää</button>\n        </div>\n      </form>\n   )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({handleChangeName,handleChangeNumber,handleSubmitAdd,newName,newNumber}) => {\n   return (\n      <form onSubmit={handleSubmitAdd}>\n        <div>\n          nimi: <input onChange={handleChangeName} value={newName} />\n        </div>\n        <div>\n          numero: <input onChange={handleChangeNumber} value={newNumber} />\n        </div>\n        <div>\n          <button type=\"submit\">lisää</button>\n        </div>\n      </form>\n   )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({name, number, handleDelete, id}) => {\n\n   return <p> {name} {number} <button onClick = {() =>handleDelete(id)}> POISTA</button></p>\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({persons, rajaus, handleDelete}) => {  \n\n   const numbers = () => {\n\n     let personsRender = persons.filter(\n       objekti => !rajaus.includes(objekti.name)\n     );\n\n     return personsRender.map(person => (\n       <Person key={person.name} id={person.id} name={person.name} number={person.number} handleDelete={handleDelete} />\n     ));\n     \n   };\n\n   return numbers()\n}\n\nexport default Persons ","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n   return axios.get(baseUrl)\n}\n\nconst create = (objekti) => axios.post(baseUrl, objekti)\n\nconst update = (objekti,id) => axios.put(`${baseUrl}/${id}`,objekti)\n\nconst deleteUser = (id) => axios.delete(`${baseUrl}/${id}`)\n\nexport default {getAll, create, deleteUser, update}","import React from \"react\";\n\nconst Notification = ({ message, className }) => {\n   if (message === null) {\n     return null\n   }\n \n   return (\n     <div className={className}>\n       {message}\n     </div>\n   )\n }\n\nexport default Notification","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport personsService from \"./services/personsService\";\nimport Notification from \"./components/Notification\"\nimport \"./index.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([\n    { name: \"Arto Hellas\", number: \"0401701440\" }\n  ]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [rajaus, setRajaus] = useState(\"\");\n  const [newRajaus, setNewRajaus] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null)\n\n  useEffect(() => {\n    personsService.getAll().then(response => {\n      setPersons(response.data);\n    });\n  }, []);\n\n  const handleChangeName = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleChangeNumber = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSubmitAdd = event => {\n    event.preventDefault();\n    const objekti = { name: newName, number: newNumber.toString() };\n\n    if (persons.map(person => person.name).includes(newName)) {\n      if (\n        window.confirm(\n          `${newName} on jo luettelossa, korvataanko vanha numero uudella?`\n        )\n      ) {\n        let oikeaindeksi = persons\n          .map(person => person.name)\n          .indexOf(newName);\n        personsService\n          .update(objekti, oikeaindeksi + 1)\n          .then(response => console.log(\"response\", response))\n          .then(\n            setPersons(\n              persons.map(person => {\n                if (person.name === objekti.name) return objekti;\n                return person;\n              })\n            ),\n            setSuccessMessage(\n              `${objekti.name}n puhelinnumero päivitetty`\n              ),\n            setTimeout(() => {\n                setSuccessMessage(null)\n              }, 3000)\n          );\n      }\n      setNewName(\"\");\n      setNewNumber(\"\");\n      return;\n    }\n\n    personsService.create(objekti).then(response => {\n      setPersons(persons.concat(response.data));\n      setSuccessMessage(\n        `henkilo '${newName}' lisätty puhelinluetteloon`\n        )\n      setTimeout(() => {\n          setSuccessMessage(null)\n        }, 3000)\n      setNewName(\"\");\n      setNewNumber(\"\");\n    });\n  };\n\n  const handleChangeRajaa = event => {\n    setNewRajaus(event.target.value);\n  };\n\n  const handleDelete = (id) => {\n    if(window.confirm(`Poistetaanko ${persons.find((person) => person.id === id).name}`)){\n      personsService.deleteUser(id)\n      .then((response) => {\n        if (response.status === 200) {\n          setPersons(persons.filter((person)=> person.id !== id))\n        }\n          setSuccessMessage(\n            `${persons.find((person) => person.id === id).name} poistettu onnistuneesti`\n            )\n          setTimeout(() => {\n              setSuccessMessage(null)\n            }, 3000)\n      })\n      .catch(error => {\n        setErrorMessage(\n          `muistiinpano '${persons.find((person) => person.id === id).name}' on jo valitettavasti poistettu palvelimelta`\n          )\n        setTimeout(() => {\n            setSuccessMessage(null)\n          }, 3000)\n      })\n    }\n  }\n\n  const handleSubmitRajaa = event => {\n    event.preventDefault();\n    setRajaus(newRajaus);\n    setSuccessMessage(\n      `henkilo '${newRajaus}' lisätty listalle`\n      )\n    setTimeout(() => {\n        setSuccessMessage(null)\n      }, 3000)\n    setNewRajaus(\"\");\n  };\n\n  //li elementiint wrappi ^^\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n\n      <Filter\n        handleChangeRajaa={handleChangeRajaa}\n        handleSubmitRajaa={handleSubmitRajaa}\n        newRajaus={newRajaus}\n      />\n      \n      <Notification message = {successMessage} className = \"success\" />\n      <Notification message = {errorMessage} className = \"error\"/>\n\n      <h2>Lisää uusi numero</h2>\n\n\n      <PersonForm\n        handleChangeName={handleChangeName}\n        handleChangeNumber={handleChangeNumber}\n        handleSubmitAdd={handleSubmitAdd}\n        newName={newName}\n        newNumber={newNumber}\n      />\n\n      <h2>Numerot</h2>\n\n      <Persons rajaus={rajaus} persons={persons} handleDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}