{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/personsService.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","handleSubmitRajaa","handleChangeRajaa","newRajaus","react_default","a","createElement","onSubmit","onChange","value","type","PersonForm","handleChangeName","handleChangeNumber","handleSubmitAdd","newName","newNumber","Person","name","number","handleDelete","id","className","onClick","Persons","persons","rajaus","filter","objekti","includes","map","person","components_Person","key","baseUrl","personsService","axios","get","post","delete","concat","put","Notification","message","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setRajaus","_useState9","_useState10","setNewRajaus","_useState11","_useState12","errorMessage","setErrorMessage","_useState13","_useState14","successMessage","setSuccessMessage","useEffect","then","response","data","components_Filter","event","target","preventDefault","setTimeout","components_Notification","components_PersonForm","toString","window","confirm","updateindeksi","indexOf","updateid","console","log","components_Persons","find","status","catch","error","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.869608ef.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({handleSubmitRajaa, handleChangeRajaa, newRajaus}) => {\n   return (\n      <form onSubmit = {handleSubmitRajaa}>\n        <div>\n          rajaa näyttettävistä: <input onChange = {handleChangeRajaa} value = {newRajaus} />\n        </div>\n        <div>\n          <button type=\"submit\">lisää</button>\n        </div>\n      </form>\n   )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({handleChangeName,handleChangeNumber,handleSubmitAdd,newName,newNumber}) => {\n   return (\n      <form onSubmit={handleSubmitAdd}>\n        <div>\n          nimi: <input onChange={handleChangeName} value={newName} />\n        </div>\n        <br />\n        <div>\n          numero: <input onChange={handleChangeNumber} value={newNumber} />\n        </div>\n        <div>\n          <button type=\"submit\">lisää</button>\n        </div>\n      </form>\n   )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({name, number, handleDelete, id}) => {\n\n   return <p className = \"Person\"> {name} {number} <button className = \"personButton\" onClick = {() =>handleDelete(id)}> POISTA</button></p>\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({persons, rajaus, handleDelete}) => {  \n\n   const numbers = () => {\n\n     let personsRender = persons.filter(\n       objekti => !rajaus.includes(objekti.name)\n     );\n\n     return personsRender.map(person => (\n       <Person key={person.name} id={person.id} name={person.name} number={person.number} handleDelete={handleDelete} />\n     ));\n     \n   };\n\n   return numbers()\n}\n\nexport default Persons ","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n   return axios.get(baseUrl)\n}\n\nconst create = (objekti) => axios.post(baseUrl, objekti)\n\nconst update = (objekti,id) => axios.put(`${baseUrl}/${id}`,objekti)\n\nconst deleteUser = (id) => axios.delete(`${baseUrl}/${id}`)\n\nexport default {getAll, create, deleteUser, update}","import React from \"react\";\n\nconst Notification = ({ message, className }) => {\n   if (message === null) {\n     return null\n   }\n \n   return (\n     <div className={className}>\n       {message}\n     </div>\n   )\n }\n\nexport default Notification","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport personsService from \"./services/personsService\";\nimport Notification from \"./components/Notification\"\nimport \"./index.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([\n    { name: \"Arto Hellas\", number: \"0401701440\" }\n  ]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [rajaus, setRajaus] = useState(\"\");\n  const [newRajaus, setNewRajaus] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null)\n\n  useEffect(() => {\n    personsService.getAll().then(response => {\n      setPersons(response.data);\n    });\n  }, []);\n\n  const handleChangeName = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleChangeNumber = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSubmitAdd = event => {\n    event.preventDefault();\n    const objekti = { name: newName, number: newNumber.toString() };\n\n    if (persons.map(person => person.name).includes(newName) && window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`) ) {\n        let updateindeksi = persons.map(person => person.name).indexOf(newName);\n        let updateid = persons[updateindeksi].id\n        personsService\n          .update(objekti, updateid)\n          .then(response => console.log(\"response\", response))\n          .then(\n            setPersons(\n              persons.map(person => {\n                if (person.name === objekti.name) return objekti;\n                return person;\n              })\n            ),\n            setSuccessMessage(\n              `${objekti.name}n puhelinnumero päivitetty`\n              ),\n            setTimeout(() => {\n                setSuccessMessage(null)\n              }, 3000)\n          );\n      setNewName(\"\");\n      setNewNumber(\"\");\n      return;\n    }\n\n    personsService.create(objekti).then(response => {\n      setPersons(persons.concat(response.data));\n      setSuccessMessage(\n        `henkilo '${newName}' lisätty puhelinluetteloon`\n        )\n      setTimeout(() => {\n          setSuccessMessage(null)\n        }, 3000)\n      setNewName(\"\");\n      setNewNumber(\"\");\n    });\n  };\n\n  const handleChangeRajaa = event => {\n    setNewRajaus(event.target.value);\n  };\n\n  const handleDelete = (id) => {\n    if(window.confirm(`Poistetaanko ${persons.find((person) => person.id === id).name}`)){\n      personsService.deleteUser(id)\n      .then((response) => {\n        if (response.status === 200) {\n          setPersons(persons.filter((person)=> person.id !== id))\n        }\n          setSuccessMessage(\n            `${persons.find((person) => person.id === id).name} poistettu onnistuneesti`\n            )\n          setTimeout(() => {\n              setSuccessMessage(null)\n            }, 3000)\n      })\n      .catch(error => {\n        setErrorMessage(\n          `muistiinpano '${persons.find((person) => person.id === id).name}' on jo valitettavasti poistettu palvelimelta`\n          )\n        setTimeout(() => {\n            setSuccessMessage(null)\n          }, 3000)\n      })\n    }\n  }\n\n  const handleSubmitRajaa = event => {\n    event.preventDefault();\n    setRajaus(newRajaus);\n    setSuccessMessage(\n      `henkilo '${newRajaus}' lisätty listalle`\n      )\n    setTimeout(() => {\n        setSuccessMessage(null)\n      }, 3000)\n    setNewRajaus(\"\");\n  };\n\n  //li elementiint wrappi ^^\n  return (\n    <div className = \"kokoSivu\">\n      <h2>Puhelinluettelo</h2>\n\n      <Filter\n        handleChangeRajaa={handleChangeRajaa}\n        handleSubmitRajaa={handleSubmitRajaa}\n        newRajaus={newRajaus}\n      />\n      \n      <Notification message = {successMessage} className = \"success\" />\n      <Notification message = {errorMessage} className = \"error\"/>\n\n      <h2>Lisää uusi numero</h2>\n\n\n      <PersonForm\n        handleChangeName={handleChangeName}\n        handleChangeNumber={handleChangeNumber}\n        handleSubmitAdd={handleSubmitAdd}\n        newName={newName}\n        newNumber={newNumber}\n      />\n\n      <h2>Numerot</h2>\n\n      <Persons rajaus={rajaus} persons={persons} handleDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}